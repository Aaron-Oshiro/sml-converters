{
  "$id": "https://www.atscale.com/ml/measureCalc.schema.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "MeasureCalc",
  "type": "object",
  "required": [ "object_type", "unique_name","label", "expression"],
  "properties": {
    "object_type": {
      "const": "metric_calc"
    },
    "unique_name": {
      "type": "string",
      "minLength": 1,
      "maxLength": 63
    },
    "label": {
      "type": "string",
      "minLength": 1,
      "maxLength": 128
    },
    "expression": {
      "type": "string",
      "minLength": 1
    },
    "description": {
      "type": "string",
      "minLength": 1
    },
    "format": {
      "type": "string",
      "minLength": 1
    },
    "is_hidden": {
      "type": "boolean"
    },
    "mdx_aggregate_function": {
      "type": "string",
      "enum": ["SUM", "MAX", "MIN", "COUNT", "AVG"],
      "errorMessage": "must have a value: 'SUM', 'MAX', 'MIN', 'COUNT' or 'AVG'"
    }
  }
}
